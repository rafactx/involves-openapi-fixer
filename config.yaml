# config.yaml
metadata:
  info:
    title: 'Involves Stage API'
    version: '3.0.3'
    description: |
      API completa para gerenciamento de pontos de venda, produtos, colaboradores e pesquisas no Involves Stage.
    termsOfService: 'https://involves.com/termos-de-uso'
    contact: { name: 'Suporte Involves', email: 'suporte@involves.com', url: 'https://help.involves.com' }
    license: { name: 'Proprietary', url: 'https://involves.com/licenca' }
  servers:
    - url: 'https://{customerSubdomain}.involves.com/webservices/api'
      description: 'Servidor de Produ√ß√£o'
      variables:
        customerSubdomain: { default: 'sua-empresa', description: 'Subdom√≠nio espec√≠fico do seu ambiente/cliente.' }
    - url: 'https://staging.{customerSubdomain}.involves.com/webservices/api'
      description: 'Servidor de Homologa√ß√£o (Staging)'
      variables:
        customerSubdomain: { default: 'sua-empresa', description: 'Subdom√≠nio do seu ambiente de homologa√ß√£o.' }

security_schemes:
  BasicAuth:
    type: http
    scheme: basic
    description: |
      üîë **Autentica√ß√£o na API**
      A API utiliza **HTTP Basic Authentication**. As credenciais (`usuario:senha`) devem ser codificadas em Base64 e enviadas no header `Authorization`.

common_schemas:
  ErrorResponse:
    type: object
    description: Resposta padr√£o para erros na API.
    properties:
      error: { type: string, description: 'C√≥digo identificador do erro.', example: 'VALIDATION_ERROR' }
      message: { type: string, description: 'Mensagem leg√≠vel do erro.', example: 'Dados inv√°lidos.' }
    required: ['error', 'message']

default_error_responses:
  BadRequest:
    description: 'Requisi√ß√£o inv√°lida. Verifique os par√¢metros.'
    content:
      application/json:
        schema: { $ref: '#/components/schemas/ErrorResponse' }
        example:
          error: 'VALIDATION_ERROR'
          message: 'O campo "email" √© inv√°lido.'
  Unauthorized: { description: 'Autentica√ß√£o falhou. Verifique suas credenciais.' }
  Forbidden: { description: 'Acesso negado. Voc√™ n√£o tem permiss√£o.' }
  NotFound: { description: 'O recurso solicitado n√£o foi encontrado.' }
  InternalError: { description: 'Ocorreu um erro inesperado no servidor.' }

tag_map:
  "api.doc.v3.section.pointofsale.title": { "name": "Pontos de Venda", "description": "Opera√ß√µes para gerenciar pontos de venda (PDVs)." }
  "api.doc.v3.section.product.title": { "name": "Produtos", "description": "Gerenciamento do cat√°logo de produtos, SKUs, marcas e categorias." }
  "api.doc.v3.section.employee.title": { "name": "Colaboradores", "description": "Gerenciamento de usu√°rios, perfis de acesso, e equipes de campo." }
  "api.doc.v3.section.surveys.title": { "name": "Pesquisas", "description": "Endpoints para interagir com formul√°rios e coletas de dados." }
  "api.doc.v3.section.itinerary-visits.title": { "name": "Roteiros e Visitas", "description": "Opera√ß√µes para agendamento, consulta e execu√ß√£o de visitas." }
  "api.doc.v1.section.sync.title": { "name": "Sincroniza√ß√£o (Legado)", "description": "Endpoints legados para sincroniza√ß√£o de dados." }

global_parameters:
  X-AGILE-CLIENT:
    name: 'X-AGILE-CLIENT'
    in: 'header'
    required: true
    description: 'Identifica a origem da requisi√ß√£o. **Valor fixo: "EXTERNAL_APP"**.'
    schema: { type: 'string', default: 'EXTERNAL_APP' }
  Accept-Version:
    name: 'Accept-Version'
    in: 'header'
    description: 'Informa a vers√£o da API v3 (formato `YYYY-MM-DD`). N√£o √© necess√°rio para v1/v2.'
    schema: { type: 'string', example: '2020-02-26' }
